class Solution {
    public List<List<Integer>> allPathsSourceTarget(int[][] graph) {
        List<List<Integer>> res = new ArrayList<>();
        if(graph == null || graph.length == 0){
            return res;
        }

        Queue<List<Integer>> queque = new LinkedList<>();
        List<Integer> path = new ArrayList<>();
        path.add(0);
        queque.add(path);

        while(queque.size() > 0){
            List<Integer> currentPath = queque.poll(); // 弹出
            int node = currentPath.get(currentPath.size() - 1); 
            for(int nextNode : graph[node]){
                List<Integer> tmpPath = new ArrayList<>(currentPath);
                tmpPath.add(nextNode);
                if(nextNode == graph.length - 1){
                    res.add(tmpPath);
                }else{
                    queque.add(new ArrayList<>(tmpPath));
                }
            }
        }
        return res;
    }
}



研究一下模板：

class Solution {
    public List<List<Integer>> allPathsSourceTarget(int[][] graph) {
        List<List<Integer>> resultList = new ArrayList<>();

        int n = graph.length;
        Queue<Node> queue = new LinkedList<>();
        queue.offer(new Node(0));

        while (!queue.isEmpty()) {
            Node node = queue.poll();
            if (node.index == n - 1) {
                resultList.add(node.path);
                continue;
            }
            for (int next : graph[node.index]) {
                queue.offer(new Node(next, node.path));
            }
        }

        return resultList;
    }

    class Node {
        int index;
        List<Integer> path;

        Node(int index) {
            this.index = index;
            this.path = new ArrayList<>();
            // 把当前节点加入路径
            this.path.add(index);
        }

        Node(int index, List<Integer> path) {
            this.index = index;
            // 复制一个新的List
            this.path = new ArrayList<>(path);
            // 把当前节点加入路径
            this.path.add(index);
        }
    }
}
